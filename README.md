![Header Image](https://github.com/user-attachments/assets/0d002385-5e36-4b62-be8c-cd0b562ad24f)

# GYRE Clone

[![build status](https://github.com/iomz/gyre-clone/workflows/docker/badge.svg)](https://github.com/iomz/gyre-clone/actions?query=workflow%3Adocker)

More than a decade ago, [a shopping complex located at Omotesando, Tokyo](https://gyre-omotesando.com/) had an inspiring website displaying swirling words flowing into vortex.
I was just so keen to recreate the same or at least similar concept design to gain that nearly meditating feeling of watching the gyre.

The original work was produced by THA LTD, as "[GYRE WORLD REFLECTOR](https://tha.jp/45)."
_All the credits go to them_ â€“ I just merely enjoy the visual and the sound by myself.

The text is generated by ChatGPT and stored in MongoDB. The app fetches the text based on the selected language and the topic. The text is then spoken using Web Speech API.

The recommended platform is Chrome on macOS, at the moment. By default, it supports English, Japanese, and Portuguese. Topic and language can be easily extended by registering new entries to the DB.

See the running example at https://gyre-clone.sazanka.io/

## Synopsis

1. Rename the `.env.local.example` to `.env.local`, which contains a MongoDB URL to access the docker service.
   - `mv .env.local.example .env.local`
2. Download a preset data (`messages.json`) inside `/data` directory to seed the database.
   - `mkdir data && curl -o data/messages.json https://gyre-clone.sazanka.io/api/message/export`
3. Build the docker image.
   - `docker compose build`
4. Run the services; the app is up and running at localhost:9763
   - `docker compose up -d`

## Extend the topics and the languages

1. Create a new text file contains _a paragraph per line_. The file name should be `<topic>_<language code>.txt` (e.g., `food_en-US.txt`).
2. Run the `scripts/post.js` with your `endpoint` and `dir` that contains the text file(s). In the example below, the text file is placed under `data` directory.
   - `node scripts/post.js http://localhost:9763/api/message data`
